# 「小墨 AI 学习交互系统」Narrative Demo 迭代开发计划（demo_dev_plan）

> 本计划基于 `demo-user-story.md` 的 8 个场景（Scene 1–8），目标是从 0 到“可对投资人展示”的高完成度叙事化 Demo。实现形态为「Landing Page 式、分屏推进、有限交互 + 强叙事」，而非 SaaS 后台。

---

## 一、整体说明（Investor-first 摘要）

1. 这是一个讲述“考前 4–12 小时冲刺复习”的叙事化 Demo，通过分屏推进与少量关键交互，演示小墨如何把杂乱多源资料变为一条 5 小时的个性化冲刺路线。  
2. 核心卖点集中在三点：系统级 RAG（跨多源理解与锚点定位）、自适应路径（按时间/掌握度动态调度）、实时决策（配速/错因/收益联动）。  
3. 交互风格接近产品官网 Landing Page：大字叙事、卡片可切换、时间轴渐进亮起、分屏讲述“混乱 → 秩序 → 个性化 → 路线 → 闭环”。  
4. 页面结构为「一页一屏」与「分屏式三栏布局」结合：左（叙事导语/导航）、中（核心演示区）、右（数据/反馈/辅助信息）。  
5. 所有“智能”部分以可控的 Mock 数据/演示脚本驱动，确保稳定输出“爆点时刻”，避免真实算法波动影响观感。  
6. 代码组织遵循 MVVM 与模块化（参考 `AGENT.md`），将数据、状态、UI 渲染彻底解耦，便于后续接入真实服务。  
7. 骨架与样式统一，交互使用轻量动效与可预期的微反馈，保证“看得懂、记得住、愿意投”。  
8. 明确定位：这是一个叙事化 Landing Demo，不是教学 SaaS；目标是“讲清楚系统级方案与差异化”，而非覆盖全部产品功能。

---

## 二、分阶段迭代计划（核心）

> 每一阶段都包含：目标、范围与可交付、关键交互/动效、数据与 Mock 策略、演示检查点（投资人可展示什么）。

### Phase 0 — 预制作：剧本定稿与资产清单（0.5 天）
- 目标：把 Storyboard 转译为“可实现的分屏脚本 + 文案 + 资产清单”。
- 范围/可交付：
  - 场景 → 分屏映射表（Scene1–8 → 约 10–12 屏，含 5.1–5.6 子屏）。
  - 统一文案（标题/副标题/旁白/提示语），落地到 `src/data/copy.json`。
  - 资产清单（图标、卡片插画、进度环、时间轴元素、示例题图/公式 SVG）。
  - 交互脚本（点击/键盘/自动播放的节奏表）。
- 关键交互/动效：无（策划阶段）。
- 数据与 Mock：确立“静态可控、可预演”的 JSON 数据结构（见工程建议）。
- 演示检查点：可以用纸面稿/幻灯形式走完整个叙事，确认爆点节奏与措辞。

### Phase 1 — 框架骨架与导航（1 天）
- 目标：搭建 Landing Page 分屏骨架与最小交互导航。
- 范围/可交付：
  - 分屏容器：全屏 Section + 锚点导航（顶部/侧边步骤条）+ 键盘左右切屏。
  - 三栏布局：左（导语/步骤）、中（演示主区）、右（辅助/数据）。
  - 全局元素：倒计时组件、下一步按钮、进度条/步骤指示。
  - 响应式与无障碍基础（焦点顺序、可见焦点样式）。
- 关键交互/动效：
  - 切屏过渡（淡入+轻微上移）、步骤高亮跟随、进度条线性推进。
- 数据与 Mock：
  - 使用 `copy.json` 与 `scenes.json` 驱动文本与屏序，暂用占位内容。
- 演示检查点：可演示“分屏推进 + 脚本节奏”，证明不是“聊天窗口”，而是系统化叙事容器。

### Phase 2 — Scene 1–2：混乱到秩序 + 导入模拟（1.5 天）
- 目标：把“资料混乱 → 一次拖拽 → 自动识别/去重/OCR”的秩序感做实。
- 范围/可交付：
  - Scene 1：杂乱桌面/卡片快切（静态素材 + 加速切换动效），右下倒计时。
  - Scene 2：拖拽框与文件卡片队列；模拟进度条、识别标签、去重提示。
  - 完成后由空 → 有序列表的过渡（卡片整齐排布）。
- 关键交互/动效：
  - DnD 拖入触发“识别动画队列”，每 0.3s 一张卡片入列。
  - 去重/OCR 浮层提示；倒计时缩小至角落并持续可见。
- 数据与 Mock：
  - 预置 50+ 文件名/类型清单，驱动标签与“Lecture 1–10”合并效果。
- 演示检查点：投资人能直观看到“系统级入口能力”，一次拖拽 → 全部理解。

### Phase 3 — Scene 3–4：结构图 + 个性化老师（爆点 1）（1.5 天）
- 目标：让“读懂内容 + 读懂用户”的叙事成立，打出爆点 1。
- 范围/可交付：
  - Scene 3：资料结构图（Key Concepts / Formula Groups / High-Frequency / Mistakes / Examples）节点扩散 → 折叠成考点地图。
  - Scene 4：三张问答卡（掌握度滑杆/弱项多选/可用时间），提交后“画像 × 内容”融合动画 + 旁白。
- 关键交互/动效：
  - 节点扩散/连线轻动；问答卡被吸入中央后渐变为画像卡。
- 数据与 Mock：
  - 用静态图+简易 Canvas/SVG 节点布局；问答结果映射到用户画像 JSON。
- 演示检查点：可展示“真正的个性化入口”，而非用户自由编问题的假个性化。

### Phase 4 — Scene 5：5 小时冲刺路线（爆点 2）（1 天）
- 目标：以时间轴呈现“系统级学习方案”，打出第二个爆点。
- 范围/可交付：
  - 时间轴 6 段（0:00–5:00）依次亮起，支撑标题+副说明；段间连接动效。
  - 旁白与“今天我会确保你覆盖必考内容并补齐弱项”。
- 关键交互/动效：
  - 自动播放/点击下一步逐段点亮；鼠标悬停显示补充依据（来源/高频/弱项对齐）。
- 数据与 Mock：
  - 由用户画像与结构图的“映射表”生成固定的 6 段内容（可切换 4/6 小时模板）。
- 演示检查点：投资人能一眼理解“这不是聊天，是系统给出路线”。

### Phase 5 — 学习三段（5.1–5.3）：概念复习 / 往年题训练 / 例题突破（2 天）
- 目标：用三种不同形式的轻交互证明“懂资料 × 懂用户”。
- 范围/可交付：
  - 5.1 概念复习：高频/易错/未掌握三类清单；概念速记卡（要点/公式/误解）；20s 微测条（单选/填空/匹配/闪卡）；右侧原文定位区（锚点高亮）。
  - 5.2 往年题训练：分步作答板（1→2→3 可校验）；提示 1/3；右抽屉公式库×思路模板；错因标签回写。
  - 5.3 例题突破：隐藏答案自测；一步一提示（最多 3 级）；“你的作答 vs 标准解”对照板；关键跳步收藏。
- 关键交互/动效：
  - 正确时卡片底部绿光扫过；错误时红点标注错因；提示层下沉+发光（揭示式）。
- 数据与 Mock：
  - 预置 10–20 个概念、3–4 道往年题、2–3 个例题；按用户画像选择/变化文案与提示强度。
- 演示检查点：可展示“局部提升的可见证据”（掌握度/用时/成功率曲线）。

### Phase 6 — 练与考（5.4–5.5）：综合练习 / 自适应模拟（2 天）
- 目标：让投资人看到“难度调度与收益实时再平衡”的系统感。
- 范围/可交付：
  - 5.4 综合练习：策略滑杆（速度↔准确）、题型配比矩阵（MC/多选/填空/匹配/短答/推导）、掌握雷达图实时刷新、错因分类与 30s 纠偏卡。
  - 5.5 自适应模拟：考试模式（题号导航、草稿区、公式速查）；配速监控（正常/偏慢/偏快）；动态削峰（题型替换/插入回收信心的小题）；交卷建议（“最划算的 3 分”）。
- 关键交互/动效：
  - 滑杆/矩阵联动题组比例；配速条“呼吸灯”节奏；提交前建议弹层。
- 数据与 Mock：
  - 题目池与题型比例由 JSON 决定；配速逻辑用规则引擎（阈值法）驱动可预演结果。
- 演示检查点：可展示“从静态试卷 → 动态系统”的质变体验。

### Phase 7 — 收束（5.6 / 7 / 8）：查漏补缺 → 总结 → 价值锚定（1.5 天）
- 目标：闭环，生成“可交付”的个性化结果并锚定卖点。
- 范围/可交付：
  - 5.6 查漏补缺：错因清单（收益排序）、电梯讲义（30–45s + 2 题微测）、考前 10 分钟提醒、导出 PDF 按钮。
  - Scene 7 总结：成果总览（覆盖/复原/弱项/预测分）、阶段回放时间轴（5.1–5.6 贡献与耗时）、二刷路线（90 分钟）。
  - Scene 8 结尾：三张亮点卡 + 定位句 + API/LMS 集成标签、30s 亮点回放、切换另一门课快速演示入口。
- 关键交互/动效：
  - “打勾”与烟花小动效；回放时间轴依次点亮；导出“打包进度条”。
- 数据与 Mock：
  - 由前述模块累计的“指标状态”生成总结（静态规则与模板文本）。
- 演示检查点：能清晰复述“提分来源 + 可复制路线 + 可接入能力”，实现商业价值锚定。

---

## 三、工程组织建议（全面参考 AGENT.md）

> 以 MVVM + 模块化方式组织，所有“智能结果”先走 Mock 数据与规则引擎，确保可测与可演。

- 目录建议：
  - `src/models/`：数据模型（Scene、Step、Card、Quiz、RouteSlice、UserProfile、Metrics）。
  - `src/viewmodels/`：状态与业务逻辑（SceneVM、ImportVM、GraphVM、PersonaVM、RouteVM、PracticeVM、ExamVM、ReviewVM、SummaryVM）。
  - `src/views/`：纯展示组件（分屏容器、时间轴、卡片、进度环、雷达图、矩阵、滑杆、题卡、提示层、对照板）。
  - `src/data/`：静态 JSON（`copy.json`、`scenes.json`、`concepts.json`、`questions.json`、`route-presets.json`）。
  - `src/styles/`：样式（CSS/SCSS，设计令牌：色板、间距、阴影、动效时长）。
  - `src/utils/`：规则引擎（阈值/权重）、格式化、随机但可复现实验种子。

- 关键工程规范（承袭 `AGENT.md`）：
  - 严格 MVVM：View 不含业务逻辑/网络/全局状态；ViewModel 不操作 DOM；Model 纯数据可测。
  - TypeScript 严格模式；禁止 inline style；组件纯函数化、可复用、可组合。
  - 统一设计令牌；动效常量集中管理（如 `MOTION.SMALL = 120ms`）。
  - 魔法数字抽常量；函数 < 300 行，文件 < 500 行；模块有文档与最小示例。

- 数据与 Mock 策略：
  - 采用“固定种子 + 规则引擎”的可控随机：保证每次演示输出一致。
  - 爆点相关结果（结构图形态、个性化路线 6 段、配速建议）全部静态映射，避免现场波动。
  - 将“智能话术”模板化，插值变量来自用户画像与阶段指标。

- 测试与质量：
  - Model 与 ViewModel 的单元测试（纯函数与规则引擎覆盖）；
  - 关键交互的“走查脚本测试”（脚本化点击/键盘推进，验证台词与动效时序）；
  - 重要路径的类型测试与快照（时间轴、题型矩阵、总结报表）。

- 可接入预留：
  - 在 ViewModel 层为“RAG/评测/题库”预留接口（Adapter 接口 + Stub 实现），后续可直接替换为真实 API。

---

## 四、阶段性“可向投资人展示”验证标准（一句话）

- Phase 0：已经把“故事 → 屏幕 → 文案/资产”落到纸面，30 分钟内可走完整个叙事。
- Phase 1：能无误切换分屏并看到全局骨架，确认这是系统级 Landing Demo。
- Phase 2：一次拖拽后文件被“自动识别/去重/OCR”，秩序感与倒计时同屏成立。
- Phase 3：结构图 + 个性化问答卡连贯呈现，“画像 × 内容”融合动画打出爆点 1。
- Phase 4：5 小时时间轴逐段点亮，清楚传达“系统级学习方案”（爆点 2）。
- Phase 5：三段学习交互可用，能看到“掌握度/用时/成功率”的可视化提升证据。
- Phase 6：综合练习与自适应模拟展示“难度/收益的实时调度”，显著区别于静态试卷。
- Phase 7：查漏补缺打勾收束，生成总结与导出物；亮点卡与定位句完成价值锚定。

---

## 五、演示脚本与演练建议（加分项）

- 入口：从 Scene 1 直接开始 90 秒“混乱 → 秩序”。
- 爆点节奏：2.5 分钟打出爆点 1（个性化老师）、3.5 分钟打出爆点 2（5 小时路线）。
- 三段学习：用 90 秒走 5.1/5.2/5.3，每段 30 秒并展示指标上涨。
- 再 90 秒展示 5.4/5.5 的“调度感”，特别是配速警报与题型替换瞬间。
- 收束：60 秒查漏 → 总结 → 价值锚定 + API/LMS 标签，结束在“30s 亮点回放”。
- 备用路径：若时间紧，保留 Scene 1/2/4/5/7/8 的“最短闭环”。

---

## 六、风险与对策

- 风险：现场设备性能/网络不稳定 → 对策：全部本地静态资源，预渲染关键动效，禁用外网依赖。
- 风险：动效时序错位 → 对策：统一动效常量 + 走查脚本；复杂过渡改为“淡入+位移”的保险手法。
- 风险：口播节奏与交互不同步 → 对策：提供自动播放模式（定时点亮），人手动随时接管。
- 风险：投资人问题引导至“真实可用性” → 对策：强调“叙事 Demo + 可接入接口”，展示 Adapter 预留位与 API 标签。

---

## 七、完成定义（Definition of Done）

- 跟随演示脚本（自动或手动）可 8–10 分钟稳定走完整片；
- 两个爆点（个性化老师/5 小时路线）稳定出现；
- 三段学习与练/考两段交互可操作、指标可见；
- 总结页可导出/可设置提醒（展示态）；
- 代码符合 `AGENT.md`（MVVM/无内联样式/模块化/类型严格/有文档与最小测试）。

