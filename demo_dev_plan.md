
# 0. 产品顶层理念（Interaction Philosophy）
> **小墨是以「目标（Goal）」驱动的学习流程系统，以「知识库（Knowledge Base）」驱动智能化（RAG, 个性化）。  
目标为有限之物；知识库为无限之物。  
学习入口永远是目标；知识库永远是学习的副产品。**

---

# 1. APP 主界面设计（New User First Screen）

## 1.1 一级导航（左侧主栏）
```

📌 目标（Goal） ← 主入口 / 默认打开
📚 知识库（Knowledge Base）
💬 AI 对话（Global Chat）
🧭 我的计划（Calendar / 日程）
⚙️ 设置（Settings）

```

## 1.2 默认首页（目标 Dashboard）
画面：  
- 顶部一句：**「你现在最重要的学习目标是什么？」**  
- 正中央显示：  
  - 创建目标（大按钮）  
  - 最近活跃目标卡片（空）  
- 知识库入口放在左侧栏第二项（不抢认知中心）

> **新用户的第一动作 = 创建目标。  
知识库不是入口，只是能力。**

---

# 2. Step 1：创建目标（Goal Creation）

用户点击「创建目标」 → 进入目标创建向导。

## 2.1 目标创建流程
小墨问几个关键问题：

1. **你要准备什么？**  
   - 期末考试  
   - 作业  
   - 考研  
   - 证书考试  
   - 自主学习主题  

2. **截止日期？**

3. **你当前掌握程度？**（拖动条 0–100%）

4. **你有哪些资料？**（可立即上传，也可跳过）

5. **你每天可投入学习时间？**

完成后，小墨生成：

- 个性化目标档案（Goal Profile）  
- 初步任务树（Task Tree）  
- 系统自动创建一个 **未收录知识库（Auto Knowledge Pool）**

---

# 3. Step 2：目标任务树（Goal Task Tree）

用户点击目标卡片 → 进入 **任务树界面（学习主入口）**。

结构示例：

```

Goal: 微积分期末考试
├── 今日路线（AI生成）
├── 本周学习计划
├── 任务树（章节 → 学习节点）
├── 资料 / 精华卡片（动态抽取自知识库）
└── 进度与预测

```

重点：

> **用户每天进入的唯一学习入口 = 任务树界面。  
不是知识库，也不是文件夹式设计。**

---

# 4. Step 3：用户开始学习（三栏式核心界面）  
这是你要求我重写的部分，也是目前最完整的、能体现系统级优势的界面。

## 4.1 三栏式最终布局

```

┌─────────────────────────────────────────────────────┐
│ [左栏] 多媒体阅读器 PDF / 图片 / 网页 / 笔记 / 文本 │
│                                                     │
├──────────────────┬────────────────────────────────┬────────────┤
│ [中栏] 即时笔记区 │ [右栏] AI 个性化教师（RAG +     │
│   - Markdown      │   对话区）                     │
│   - 高亮标注      │   - 即时问答                   │
│   - 自动同步 ->   │   - 自动理解左侧内容           │
│     对应知识库    │   - 个性化建议                 │
│                   │   - Quiz / 例题生成           │
└──────────────────┴────────────────────────────────┴────────────┘

```

## 4.2 交互说明

### 左栏（多媒体阅读器）
- 支持 PDF、PPT、图片、网页、笔记  
- 自动章节结构抽取  
- 支持高亮、划词  
- 划词 → 右侧 AI 自动读取 → 生成精华卡片

### 中栏（即时笔记）
- 用户随手写  
- 自动保存  
- 自动分类到当前目标的知识库  
- 用户无需担心“存在哪里”

### 右栏（AI 对话 / 个性化教师）
- **RAG：读取左栏内容**
- **个性化：读取目标画像**
- 用户随时问问题  
- AI 自动生成：
  - 解释  
  - 例题  
  - 小测验  
  - 知识清单  
- 所有生成的内容均自动沉入知识库

> **学习路径：左栏内容 → 中栏笔记 → 右栏理解与练习 → 知识库自动存档。**

---

# 5. Step 4：知识库（作为系统底层而非入口）

## 5.1 入口（次级导航）
用户点击左侧栏「知识库」进入。

## 5.2 结构（自动生成，不需要用户自行组织）
```

Knowledge Base
├── 当前目标（自动绑定）
│     ├── 精华卡片（AI 提取）
│     ├── 错题本（自动归档）
│     ├── AI 对话记录（自动分类）
│     ├── 用户笔记（实时同步）
│     └── 上传资料（自动分类）
├── 独立知识库（用户创建）
└── 社区知识库（可选分享）

```

### 交互特点：
- 知识库永远不需要手动整理  
- 自动标签  
- 自动分类  
- 自动按目标收拢  

### 用户主动打开知识库的场景：
- 分享学习内容  
- 回看错题本  
- 找之前 AI 的讲解  
- 导入/导出知识库  

> 更像“记忆仓库”，不是“启动入口”。

---

# 6. Step 5：AI 贯穿整个系统（关键交互逻辑）

AI 在界面内的行为遵循 3 个原则：

### 原则 1：AI 自动理解「目标 + 内容 + 用户」
无论用户在哪一栏：
- AI 都知道用户在这一页干什么  
- AI 都能在右栏给逐段提示

### 原则 2：AI 负责「收集 → 分析 → 分类」  
→ 让用户无感地构建知识库

### 原则 3：AI 提供“路径”，而不是只是回答  
- 学这个章节前需要看什么？  
- 你剩余时间怎么安排？  
- 你的弱点补在哪里？  

> **所有价值都在于“AI 给路径”。**

---

# 7. Step 6：目标 & 知识库的最终关系（核心哲学映射到交互）
```

目标 = 有限、可完成、驱动行动
知识库 = 无限、长期、沉淀知识
AI = 将两者连接，形成闭环

```

在交互层：

- 学习入口来自目标（Goal）  
- 学习过程沉入知识库（KB）  
- AI 在中间自动转化（RAG + 个性化）  

因此：

> **用户永远不会被迫管理知识库；  
知识库永远为目标服务；  
AI 永远为用户消化“混乱 → 清晰”。**

